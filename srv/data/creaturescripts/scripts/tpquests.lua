local tps = {
    ["Midori Kurage"] = {pos = {x = 1942, y = 2345, z = 7}, toPos = {x = 914, y = 1158, z = 6}, time = 20},
    ["Akatsuki Pain"] = {pos = {x= 3331, y=2054, z= 10}, toPos = {x= 2961, y=1805, z= 7}, time = 20},
    ["Desert Temari"] = {pos = {x = 1334, y = 2256, z = 10}, toPos = {x = 1334, y = 2234, z = 10}, time = 20},
    ["Aoi Tako"] = {pos = {x = 2045, y = 2857, z = 7}, toPos = {x = 2093, y = 2892, z = 7}, time = 20},
    ["Midori No Tako"] = {pos = {x = 2096, y = 2883, z = 7}, toPos = {x = 2090, y = 2824, z = 7}, time = 20},
    ["Rikudou Sennin"] = {pos = {x = 2924, y = 1549, z = 12}, toPos = {x = 2960, y = 1555, z = 12}, time = 20},
    ["Utsukushi Tako"] = {pos = {x = 2087, y = 2813, z = 7}, toPos = {x = 2132, y = 2844, z = 7}, time = 20},
    ["Puppet Sasori"] = {pos = {x = 1610, y = 2430, z = 7}, toPos = {x = 1582, y = 2450, z = 7}, time = 20},
    ["Uchiha Itachi"] = {pos = {x = 1885, y = 2447, z = 8}, toPos = {x = 1748, y = 2823, z = 6}, time = 20},
    ["Itachi Susanoo"] = {pos = {x = 1748, y = 2800, z = 6}, toPos = {x = 1900, y = 2431, z = 8}, time = 20},
    ["Demon Dragon Lord"] = {pos = {x = 1705, y = 2208, z = 7}, toPos = {x = 1705, y = 2208, z = 6}, time = 20},
    ["Madara"] = {pos = {x = 1768, y = 2255, z = 8}, toPos = {x= 1742, y=2265, z= 8}, time = 20},
    ["Masked Men"] = {pos = {x = 1412, y = 2049, z = 8}, toPos = {x = 1412, y = 2049, z = 9}, time = 20},
    ["Demon Zabuza"] = {pos = {x = 2357, y = 2427, z = 9}, toPos = {x = 2357, y = 2427, z = 10}, time = 20},
    ["Shiroi"] = {pos = {x = 1854, y = 2850, z = 6}, toPos = {x = 1836, y = 2849, z = 7}, time = 20},
    -- ["Kyuubi"] = {pos = {x = 2560, y = 3594, z = 7}, toPos = {x = 2532, y = 3586, z = 6}, time = 20},
    ["Tako Na Kami"] = {pos = {x = 2231, y = 2900, z = 7}, toPos = {x = 2231, y = 2900, z = 6}, time = 20},
    ["Kisame"] = {pos = {x = 1246, y = 1620, z = 7}, toPos = {x = 1246, y = 1609, z = 4}, time = 20},
    ["Hidan"] = {pos = {x = 1461, y = 2325, z = 7}, toPos = {x = 1461, y = 2325, z = 8}, time = 20},
    -- ["Kakuzu"] = {pos = {x = 1501, y = 2312, z = 7}, toPos = {x = 1508, y = 2263, z = 6}, time = 20},
    ["Orochimaru"] = {pos = {x = 2741, y = 2030, z = 9}, toPos = {x = 2805, y = 2029, z = 9}, time = 20},
    ["Kakashi"] = {pos = {x = 1942, y = 2345, z = 7}, toPos = {x = 1944, y = 2340, z = 6}, time = 20},
    -- ["Killer Bee"] = {pos = {x = 2272, y = 1693, z = 7}, toPos = {x = 2276, y = 1700, z = 6}, time = 20},
    ["Demon Skeleton"] = {pos = {x = 1650, y = 1929, z = 9}, toPos = {x= 1698, y=1931, z= 8}, time = 20},
    ["Nidaime"] = {pos = {x = 3408, y = 1495, z = 7}, toPos = {x = 3378, y = 1485, z = 8}, time = 20},
    ["Jinpachi Munashi"] = {pos = {x= 849, y=2578, z= 7}, toPos = {x= 906, y=2644, z= 7}, time = 20},
    ["Hashirama"] = {pos = {x = 1339, y = 2784, z = 12}, toPos = {x = 1311, y = 2776, z = 13}, time = 20},
    ["Bunshin Yondaime"] = {pos = {x = 3211, y = 2234, z = 2}, toPos = {x = 3203, y = 2248, z = 5}, time = 20},
    ["Yondaime Hokage"] = {pos = {x = 3235, y = 2236, z = 6}, toPos = {x = 3236, y = 2251, z = 4}, time = 20},
    ["Sasuke"] = {pos = {x = 1912, y = 2107, z = 11}, toPos = {x = 1972, y = 2190, z = 8}, time = 20},
    -- ["Sambi"] = {pos = {x = 1792, y = 3459, z = 7}, toPos = {x = 1819, y = 3465, z = 7}, time = 20},
    ["Kinkaku"] = {pos = {x = 2321, y = 1745, z = 9}, toPos = {x = 2313, y = 1744, z = 10}, time = 20},
    ["Freezing Golem"] = {pos = {x = 1792, y = 3460, z = 7}, toPos = {x = 1819, y = 3465, z = 7}, time = 20},
    ["Red Renegade"] = {pos = {x = 3266, y = 1828, z = 5}, toPos = {x = 3264, y = 1831, z = 4}, time = 20},
    ["Enma"] = {pos = {x = 1919, y = 2808, z = 7}, toPos = {x = 1945, y = 2806, z = 7}, time = 20},
    ["Sarutobi"] = {pos = {x = 1945, y = 2800, z = 7}, toPos = {x = 1940, y = 2820, z = 7}, time = 20},
    ["Anbu Trainer"] = {pos = {x = 2007, y = 1975, z = 6}, toPos = {x = 2007, y = 1968, z = 5}, time = 60},
    ["Tutor Anbu"] = {pos = {x = 2007, y = 1975, z = 5}, toPos = {x = 2007, y = 1968, z = 4}, time = 60},
    ["Demon Slayer"] = {pos = {x= 3104, y=1175, z= 9}, toPos = {x= 3105, y=1155, z= 9}, time = 20},
    ["Capitao Anbu"] = {pos = {x = 2007, y = 1975, z = 4}, toPos = {x = 2005, y = 1969, z = 3}, time = 60},
    -- ["Danzou"] = {pos = {x = 2654, y = 1899, z = 10}, toPos = {x = 2653, y = 1848, z = 10}, time = 20},
    ["Infernus Iori"] = {pos = {x = 3336, y = 1965, z = 9}, toPos = {x = 3338, y = 2003, z = 9}, time = 30},
    ["Iwasaki"] = {pos = {x = 2014, y = 2316, z = 12}, toPos = {x = 1976, y = 2313, z = 11}, time = 30},
    ["Kimura"] = {pos = {x = 3098, y = 2204, z = 10}, toPos = {x = 3048, y = 2178, z = 10}, time = 90},
    ["Indra"] = {pos = {x = 2322, y = 1926, z = 8}, toPos = {x = 2274, y = 1919, z = 8}, time = 90},
    -- ["Uchiha Sasuke"] = {pos = {x = 2654, y = 1899, z = 10}, toPos = {x = 2653, y = 1848, z = 10}, time = 20},
    -- ["Uchiha Tobi"] = {pos = {x = 1554, y = 1567, z = 8}, toPos = {x = 1538, y = 1625, z = 8}, time = 20},
    -- ["Sasuke Susanoo"] = {pos = {x = 1979, y = 2659, z = 9}, toPos = {x = 2062, y = 2670, z = 9}, time = 20},
						-- ["Sarutobi"] = {pos = {x = 3104, y = 1172, z = 9}, toPos = {x = 3105, y = 1156, z = 9}, time = 20},
}
local function removeTp(tp)
local t = getTileItemById(tp.pos, 1387).uid
return t > 0 and doRemoveItem(t) and doSendMagicEffect(tp.pos, CONST_ME_POFF)
end

function onDeath(cid)
local tp = tps[getCreatureName(cid)]
    if tp then
	repeat
    doCreateTeleport(1387, tp.toPos, tp.pos)
    doCreatureSay(cid, "The portal will be closed in "..tp.time.." seconds.", TALKTYPE_ORANGE_1)
    addEvent(removeTp, tp.time*1000, tp)
	until (getTileItemById(tp.pos, 1387).uid > 0)
    end
return true
end